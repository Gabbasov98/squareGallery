{"version":3,"sources":["a-layout.js","b-header.js","01_main.js"],"names":["degree","current","pageSlider","Swiper","wrapperClass","slideClass","direction","slidesPerView","speed","parallax","watchOverflow","observer","observeParents","observeSlideChildren","init","on","renderGalleryNav","this","activeIndex","slideChange","slideChangeTransitionStart","rotateBox","resize","breakpoints","320","allowTouchMove","992","keyboard","enabled","onlyInViewport","pageUpDown","mousewheel","sensitivity","$","attr","css","links","addClass","setTimeout","remove","removeClass","each","index","el","link","title","html","trim","class","push","i","length","shift","forEach","append","click","slidesCount","slideTo","document","e","slideIndex","mouseenter","wrapperHeight","height","screenHeight","window","animate","scrollTop","resizeHandlerSlider","addEventListener","bind","top","offset","originalEvent","wheelDelta","gallery","querySelector","firstSlideGallery","lastSlideGallery","handleTouchStartGallery","xDown","yDown","getTouches","evt","touches","handleTouchStart","firstTouch","clientX","clientY","listenFirstSlideTouch","xUp","yUp","xDiff","yDiff","Math","abs","listenlastSlideTouch","setFixHeader","scroll","toggleClass","event","preventDefault","idc","innerWidth","bottom","idn"],"mappings":"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","file":"../components/main.min.js","sourcesContent":["let degree = 0\r\nlet current = 0\r\nlet pageSlider = new Swiper(\".gallery\",{\r\n    wrapperClass: \"gallery__wrapper\",\r\n    slideClass: \"gallery-slide\",\r\n\r\n    direction: \"vertical\",\r\n\r\n    slidesPerView: \"auto\",\r\n    speed: 1000,\r\n\r\n    parallax: true,\r\n\r\n\r\n\r\n    watchOverflow: true,\r\n\r\n    observer: true,\r\n    observeParents: true,\r\n    observeSlideChildren: true,\r\n\r\n\r\n\r\n    init: false,\r\n\r\n    on: {\r\n        init: function () {\r\n            renderGalleryNav(this.activeIndex)\r\n        },\r\n        slideChange: function () {\r\n            renderGalleryNav(this.activeIndex)\r\n        },\r\n        slideChangeTransitionStart: function() {\r\n            rotateBox()\r\n        },\r\n        resize: function () {\r\n\r\n        }\r\n    },\r\n    breakpoints: {\r\n        320: {\r\n            allowTouchMove: true,\r\n        },\r\n        992: {\r\n            allowTouchMove: false,\r\n            keyboard: {\r\n                enabled: true,\r\n                onlyInViewport: true,\r\n                pageUpDown: true\r\n            },\r\n\r\n            mousewheel: {\r\n                sensitivity: 1,\r\n            },\r\n        },\r\n    }\r\n})\r\n\r\n$(\"._next-slide\").click(function () {\r\n    let slidesCount = $(\".gallery-slide\").length\r\n    if(pageSlider.activeIndex<slidesCount-1){\r\n        pageSlider.slideTo(pageSlider.activeIndex+1,1000,false)\r\n    }else{\r\n        pageSlider.slideTo(0,1000,false)\r\n    }\r\n    rotateBox()\r\n})\r\n\r\n$(\"._prev-slide\").click(function () {\r\n    let slidesCount = $(\".gallery-slide\").length\r\n    if(pageSlider.activeIndex === 0){\r\n        pageSlider.slideTo(slidesCount-1,1000,false)\r\n    }else{\r\n        pageSlider.slideTo(pageSlider.activeIndex-1,1000,false)\r\n    }\r\n    rotateBox()\r\n})\r\n\r\nfunction rotateBox() {\r\n    let degree = +$('.gallery-slide.swiper-slide-active').attr('data-degree')\r\n    $(\".gallery__box\").css(\"transform\",`rotate(-${degree}deg)`)\r\n}\r\n\r\n$('.gallery-slide').each(function (i,el) {\r\n    $(el).attr('data-degree',degree)\r\n    degree = degree + 11\r\n})\r\n\r\nfunction renderGalleryNav(activeIndex){\r\n    let links = []\r\n    let activeClass = ''\r\n    $(\".gallery-nav__links\").addClass(\"_disable\")\r\n\r\n    setTimeout(()=>{\r\n        $(\".gallery-nav__link\").remove()\r\n        $(\".gallery-nav__links\").removeClass(\"_disable\")\r\n        $(\".gallery__title\").each(function (index,el) {\r\n            let link = {\r\n                title: $(el).html().trim(),\r\n                index,\r\n                class: index === activeIndex ? \"_active\" : \"\"\r\n            }\r\n            links.push(link)\r\n\r\n\r\n\r\n\r\n\r\n        })\r\n\r\n        if (activeIndex > 7){\r\n            for(let i=0;i<activeIndex-7;i++){\r\n                if(links.length > 17){\r\n                    links.shift()\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n\r\n        links.forEach(link => {\r\n            $(\".gallery-nav__links\").append(`\r\n                <div data-index=\"${link.index}\" class=\"gallery-nav__link ${link.class}\">\r\n                    <span>${link.title}</span>\r\n                </div>\r\n            `)\r\n        })\r\n\r\n\r\n    },300)\r\n}\r\n\r\n$(document).on('click', '.gallery-nav__link', function(e) {\r\n    let slideIndex = +$(this).attr(\"data-index\")\r\n    pageSlider.slideTo(slideIndex,1000,false)\r\n    rotateBox()\r\n})\r\n\r\n\r\n$('.gallery').mouseenter(function () {\r\n    let wrapperHeight = $(\".wrapper\").height();\r\n    let screenHeight = $(window).height();\r\n    $('body,html').animate({\r\n        scrollTop: wrapperHeight - screenHeight * 2\r\n    }, 100);\r\n})\r\n\r\n\r\n\r\nconst resizeHandlerSlider = () => {\r\n    pageSlider.init()\r\n}\r\n\r\nresizeHandlerSlider()\r\n\r\nwindow.addEventListener('resize', resizeHandlerSlider);\r\n\r\n\r\n$('.gallery-slide:first-child').bind('wheel', function(e){\r\n    let top = $(\".gallery\").offset().top\r\n    let screenHeight = $(window).height();\r\n\r\n    if (e.originalEvent.wheelDelta >= 0){\r\n        $('body,html').animate({\r\n            scrollTop: top - screenHeight\r\n        }, 100);\r\n    }\r\n})\r\n\r\n$('.gallery-slide:last-child').bind('wheel', function(e){\r\n    let top = $(\".gallery\").offset().top\r\n    let screenHeight = $(window).height();\r\n    if (e.originalEvent.wheelDelta <= 0){\r\n        $('body,html').animate({\r\n            scrollTop: top + screenHeight\r\n        }, 0);\r\n    }\r\n})\r\n\r\nlet gallery = document.querySelector('.gallery')\r\nlet firstSlideGallery = document.querySelector('.gallery-slide:first-child')\r\nlet lastSlideGallery = document.querySelector('.gallery-slide:last-child')\r\n\r\ngallery.addEventListener('touchstart', handleTouchStartGallery, false);\r\n\r\n\r\nlet xDown = null;\r\nlet yDown = null;\r\n\r\nfunction getTouches(evt) {\r\n    return evt.touches || // browser API\r\n        evt.originalEvent.touches; // jQuery\r\n}\r\n\r\nfunction handleTouchStart(evt) {\r\n    const firstTouch = getTouches(evt)[0];\r\n    xDown = firstTouch.clientX;\r\n    yDown = firstTouch.clientY;\r\n};\r\n\r\nlistenFirstSlideTouch()\r\nlistenlastSlideTouch()\r\n\r\nfunction listenFirstSlideTouch() {\r\n    firstSlideGallery.addEventListener('touchstart', handleTouchStart, false);\r\n    firstSlideGallery.addEventListener('touchmove', handleTouchMove, false);\r\n\r\n        function handleTouchMove(evt) {\r\n        if (!xDown || !yDown) {\r\n            return;\r\n        }\r\n        let xUp = evt.touches[0].clientX;\r\n        let yUp = evt.touches[0].clientY;\r\n        let xDiff = xDown - xUp;\r\n        let yDiff = yDown - yUp;\r\n        if (Math.abs(xDiff) > Math.abs(yDiff)) { /*most significant*/\r\n\r\n        } else {\r\n            if (yDiff > 0) {\r\n\r\n            } else {\r\n                let top = $(\".gallery\").offset().top\r\n                let screenHeight = $(window).height();\r\n                $('body,html').animate({\r\n                    scrollTop: top - screenHeight\r\n                }, 100);\r\n            }\r\n        }\r\n        /* reset values */\r\n        xDown = null;\r\n        yDown = null;\r\n    };\r\n}\r\n\r\nfunction listenlastSlideTouch() {\r\n    lastSlideGallery.addEventListener('touchstart', handleTouchStart, false);\r\n    lastSlideGallery.addEventListener('touchmove', handleTouchMove, false);\r\n\r\n\r\n    function handleTouchMove(evt) {\r\n        if (!xDown || !yDown) {\r\n            return;\r\n        }\r\n        let xUp = evt.touches[0].clientX;\r\n        let yUp = evt.touches[0].clientY;\r\n        let xDiff = xDown - xUp;\r\n        let yDiff = yDown - yUp;\r\n        if (Math.abs(xDiff) > Math.abs(yDiff)) { /*most significant*/\r\n\r\n        } else {\r\n            if (yDiff > 0) {\r\n                let top = $(\".gallery\").offset().top\r\n                let screenHeight = $(window).height();\r\n                $('body,html').animate({\r\n                    scrollTop: top + screenHeight\r\n                }, 0);\r\n            }\r\n        }\r\n        /* reset values */\r\n        xDown = null;\r\n        yDown = null;\r\n    };\r\n}\r\n\r\n\r\n\r\nfunction handleTouchStartGallery() {\r\n    let wrapperHeight = $(\".wrapper\").height();\r\n    let screenHeight = $(window).height();\r\n    $('body,html').animate({\r\n        scrollTop: wrapperHeight - screenHeight * 2\r\n    }, 100);\r\n};\r\n\r\n// $(\".gallery\").onclick(fun)\r\n","$(window).scroll(function(){\r\n    setFixHeader()\r\n});\r\n\r\nsetFixHeader()\r\n\r\n\r\nfunction setFixHeader() {\r\n    if ($(window).scrollTop() > 20) {\r\n        $(\".header\").addClass(\"_fix\")\r\n    } else {\r\n        $(\".header\").removeClass(\"_fix\")\r\n    }\r\n}\r\n\r\n$(\".burger\").click(function () {\r\n    $(\".header\").toggleClass(\"_open\")\r\n    $(\"body\").toggleClass(\"fixed-body\")\r\n})\r\n\r\n\r\n$(\".nav__link\").click(function(event) {\r\n    event.preventDefault();\r\n    var idc = $(this).attr('href'),\r\n        top = $(idc).offset().top;\r\n    $('body,html').animate({ scrollTop: top - 140 }, 500);\r\n    if ($(window).innerWidth() < 992) {\r\n        $(\".header\").removeClass(\"_open\")\r\n    }\r\n});\r\n$(window).scroll(function() {\r\n    var $sections = $('._anchor');\r\n    $sections.each(function(i, el) {\r\n        var top = $(el).offset().top - 175;\r\n        var bottom = top + $(el).height();\r\n        var scroll = $(window).scrollTop();\r\n        var idn = $(el).attr('id');\r\n        if (scroll > top && scroll < bottom) {\r\n            $('a.nav__link').removeClass('_active');\r\n            $('a[href=\"#' + idn + '\"]').addClass('_active');\r\n        }\r\n    });\r\n});\r\n",null]}