{"version":3,"sources":["a-layout.js","b-header.js","01_main.js"],"names":["degree","current","pageSlider","Swiper","wrapperClass","slideClass","allowTouchMove","direction","slidesPerView","speed","parallax","watchOverflow","observer","observeParents","observeSlideChildren","keyboard","enabled","onlyInViewport","pageUpDown","mousewheel","sensitivity","init","on","renderGalleryNav","this","activeIndex","renderGalleryButtons","slideChange","slideChangeTransitionStart","rotateBox","resize","breakpoints","992","prevBtnText","nextBtnText","slidesCount","$","length","find","html","trim","addClass","setTimeout","removeClass","links","remove","each","index","el","link","title","class","push","console","log","i","pop","unshift","shift","forEach","append","click","slideTo","galleryFullScreen","document","e","slideIndex","attr","resizeHandlerSlider","galleryScrollPrev","top","offset","screenHeight","window","height","animate","scrollTop","galleryScrollNext","addEventListener","innerWidth","bind","originalEvent","wheelDelta","mouseenter","gallery","querySelector","footer","getBoundingClientRect","wrapperHeight","footerHeight","css","setFixHeader","scroll","toggleClass","event","preventDefault","idc","bottom","idn","parent","parents","imgSrc","slideToggle","siblings","src"],"mappings":"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","file":"../components/main.min.js","sourcesContent":["let degree = 0\r\nlet current = 0\r\nlet pageSlider = new Swiper(\".gallery\",{\r\n    wrapperClass: \"gallery__wrapper\",\r\n    slideClass: \"gallery-slide\",\r\n    allowTouchMove: false,\r\n    direction: \"vertical\",\r\n\r\n    slidesPerView: \"auto\",\r\n    speed: 1000,\r\n\r\n    parallax: true,\r\n\r\n    watchOverflow: true,\r\n\r\n    observer: true,\r\n    observeParents: true,\r\n    observeSlideChildren: true,\r\n\r\n    keyboard: {\r\n        enabled: true,\r\n        onlyInViewport: true,\r\n        pageUpDown: true\r\n    },\r\n\r\n    mousewheel: {\r\n        sensitivity: 1,\r\n    },\r\n\r\n    init: false,\r\n\r\n    on: {\r\n        init: function () {\r\n            renderGalleryNav(this.activeIndex)\r\n            renderGalleryButtons(this.activeIndex)\r\n        },\r\n        slideChange: function () {\r\n            renderGalleryNav(this.activeIndex)\r\n            renderGalleryButtons(this.activeIndex)\r\n        },\r\n        slideChangeTransitionStart: function() {\r\n            rotateBox()\r\n        },\r\n        resize: function () {\r\n\r\n        }\r\n    },\r\n    breakpoints: {\r\n        992: {\r\n\r\n        }\r\n    }\r\n})\r\n\r\n$(\"._next-slide\").click(function () {\r\n    let slidesCount = $(\".gallery-slide\").length\r\n    if(pageSlider.activeIndex<slidesCount-1){\r\n        pageSlider.slideTo(pageSlider.activeIndex+1,1000,false)\r\n    }else{\r\n        pageSlider.slideTo(0,1000,false)\r\n    }\r\n    rotateBox()\r\n    galleryFullScreen()\r\n})\r\n\r\n$(\"._prev-slide\").click(function () {\r\n    let slidesCount = $(\".gallery-slide\").length\r\n    if(pageSlider.activeIndex === 0){\r\n        pageSlider.slideTo(slidesCount-1,1000,false)\r\n    }else{\r\n        pageSlider.slideTo(pageSlider.activeIndex-1,1000,false)\r\n    }\r\n    rotateBox()\r\n    galleryFullScreen()\r\n})\r\n\r\nfunction renderGalleryButtons(activeIndex){\r\n    let prevBtnText = ''\r\n    let nextBtnText = ''\r\n    let slidesCount = $(\".gallery-slide\").length\r\n\r\n    prevBtnText = $(`.gallery-slide:last-child`).find(\".gallery__title\").html().trim()\r\n    nextBtnText = $(`.gallery-slide:nth-child(1)`).find(\".gallery__title\").html().trim()\r\n\r\n    if(activeIndex !== 0){\r\n        prevBtnText = $(`.gallery-slide:nth-child(${activeIndex})`).find(\".gallery__title\").html().trim()\r\n    }\r\n\r\n    if(activeIndex<slidesCount-1){\r\n        nextBtnText = $(`.gallery-slide:nth-child(${activeIndex+2})`).find(\".gallery__title\").html().trim()\r\n    }\r\n\r\n    $(\".gallery__prev\").addClass(\"_disable\")\r\n    $(\".gallery__next\").addClass(\"_disable\")\r\n\r\n\r\n    $(\".gallery__prev span\").html(prevBtnText)\r\n    $(\".gallery__next span\").html(nextBtnText)\r\n\r\n    setTimeout(()=>{\r\n        $(\".gallery__prev\").removeClass(\"_disable\")\r\n        $(\".gallery__next\").removeClass(\"_disable\")\r\n    },900)\r\n}\r\n\r\nfunction renderGalleryNav(activeIndex){\r\n    let links = []\r\n    let activeClass = ''\r\n    $(\".gallery-nav__links\").addClass(\"_disable\")\r\n\r\n    setTimeout(()=>{\r\n        $(\".gallery-nav__links .gallery-nav__link\").remove()\r\n        $(\".gallery-menu__links .gallery-nav__link\").remove()\r\n        $(\".gallery-nav__links\").removeClass(\"_disable\")\r\n        $(\".gallery__title\").each(function (index,el) {\r\n            let link = {\r\n                title: $(el).html().trim(),\r\n                index,\r\n                class: index === activeIndex ? \"_active\" : \"\"\r\n            }\r\n            links.push(link)\r\n        })\r\n\r\n        console.log(links)\r\n        for(let i=0;i<7;i++){\r\n            let link = links.pop()\r\n            console.log(links)\r\n            links.unshift(link)\r\n        }\r\n\r\n        if(activeIndex>0){\r\n\r\n            for(let i=0;i<activeIndex;i++){\r\n                let link = links.shift()\r\n                links.push(link)\r\n            }\r\n        }\r\n\r\n        // console.log(links)\r\n\r\n\r\n\r\n        links.forEach(link => {\r\n            $(\".gallery-menu__links\").append(`\r\n                <div data-index=\"${link.index}\" class=\"gallery-nav__link ${link.class}\">\r\n                    <span>${link.title}</span>\r\n                </div>\r\n            `)\r\n        })\r\n\r\n        // if (activeIndex > 7){\r\n        //     for(let i=0;i<activeIndex-7;i++){\r\n        //         if(links.length > 17){\r\n        //             let link = links.shift()\r\n        //             console.log(link)\r\n        //\r\n        //         }\r\n        //     }\r\n        // } else{\r\n        //     // links[links.length-1] = link\r\n        //     let link = links.shift()\r\n        //     links.unshift(link)\r\n        // }\r\n\r\n\r\n        links.forEach(link => {\r\n            $(\".gallery-nav__links\").append(`\r\n                <div data-index=\"${link.index}\" class=\"gallery-nav__link ${link.class}\">\r\n                    <span>${link.title}</span>\r\n                </div>\r\n            `)\r\n        })\r\n\r\n\r\n    },300)\r\n}\r\n\r\n$(document).on('click', '.gallery-nav__link', function(e) {\r\n    let slideIndex = +$(this).attr(\"data-index\")\r\n    pageSlider.slideTo(slideIndex,1000,false)\r\n    rotateBox()\r\n    $(\".header\").removeClass(\"_gallery-open\")\r\n    $(\"body\").removeClass(\"fixed-body\")\r\n    galleryFullScreen()\r\n})\r\n\r\n\r\nconst resizeHandlerSlider = () => {\r\n    pageSlider.init()\r\n}\r\n\r\nresizeHandlerSlider()\r\n\r\nwindow.addEventListener('resize', resizeHandlerSlider);\r\n\r\n\r\nif (window.innerWidth>993){\r\n    $('.gallery-slide:first-child').bind('wheel', function(e){\r\n        if (e.originalEvent.wheelDelta >= 0){\r\n            galleryScrollPrev()\r\n        }\r\n    })\r\n\r\n    $('.gallery-slide:last-child').bind('wheel', function(e){\r\n        if (e.originalEvent.wheelDelta <= 0){\r\n            galleryScrollNext()\r\n        }\r\n    })\r\n\r\n    $(\".gallery\").click(function () {\r\n        galleryFullScreen()\r\n    })\r\n\r\n    $('.gallery').mouseenter(function () {\r\n        galleryFullScreen()\r\n    })\r\n}\r\n\r\n\r\n\r\nfunction galleryScrollPrev(){\r\n    let top = $(\".gallery\").offset().top\r\n    let screenHeight = $(window).height();\r\n    $('body,html').animate({\r\n        scrollTop: top - screenHeight\r\n    }, 100);\r\n}\r\n\r\nfunction galleryScrollNext(){\r\n    let top = $(\".gallery\").offset().top\r\n    let screenHeight = $(window).height();\r\n    $('body,html').animate({\r\n        scrollTop: top + screenHeight\r\n    }, 0);\r\n}\r\n\r\n\r\nlet gallery = document.querySelector('.gallery')\r\n\r\n\r\nfunction galleryFullScreen() {\r\n    let footer = document.querySelector('.footer').getBoundingClientRect()\r\n\r\n    let wrapperHeight = $(\".wrapper\").height();\r\n    let footerHeight = footer.height;\r\n    let screenHeight = $(window).height();\r\n\r\n    $('body,html').animate({\r\n        scrollTop: wrapperHeight - footerHeight - screenHeight\r\n    }, 100);\r\n}\r\n\r\n$('.gallery-slide').each(function (i,el) {\r\n    $(el).attr('data-degree',degree)\r\n    degree = degree + 6\r\n})\r\n\r\nfunction rotateBox() {\r\n    let degree = +$('.gallery-slide.swiper-slide-active').attr('data-degree')\r\n    $(\".gallery__box\").css(\"transform\",`rotate(-${degree}deg)`)\r\n}\r\n","$(window).scroll(function(){\r\n    setFixHeader()\r\n});\r\n\r\nsetFixHeader()\r\n\r\n\r\nfunction setFixHeader() {\r\n    if ($(window).scrollTop() > 20) {\r\n        $(\".header\").addClass(\"_fix\")\r\n    } else {\r\n        $(\".header\").removeClass(\"_fix\")\r\n    }\r\n}\r\n\r\n$(\".burger\").click(function () {\r\n    $(\".header\").toggleClass(\"_open\")\r\n    $(\"body\").toggleClass(\"fixed-body\")\r\n})\r\n\r\n$(\".gallery-toggle\").click(function () {\r\n    $(\".header\").toggleClass(\"_gallery-open\")\r\n    $(\"body\").toggleClass(\"fixed-body\")\r\n})\r\n\r\n\r\n$(\".nav__link\").click(function(event) {\r\n    event.preventDefault();\r\n    if ($(window).innerWidth() < 992) {\r\n        $(\".header\").removeClass(\"_open\")\r\n        $(\"body\").removeClass(\"fixed-body\")\r\n    }\r\n    var idc = $(this).attr('href'),\r\n        top = $(idc).offset().top;\r\n    $('body,html').animate({ scrollTop: top }, 500);\r\n\r\n});\r\n$(window).scroll(function() {\r\n    var $sections = $('._anchor');\r\n    $sections.each(function(i, el) {\r\n        var top = $(el).offset().top - 10;\r\n        var bottom = top + $(el).height();\r\n        var scroll = $(window).scrollTop();\r\n        var idn = $(el).attr('id');\r\n        if (scroll > top && scroll < bottom) {\r\n            $('a.nav__link').removeClass('_active');\r\n            $('a[href=\"#' + idn + '\"]').addClass('_active');\r\n        }\r\n    });\r\n});\r\n","$(\"._open-order\").click(function () {\r\n    let parent = $(this).parents(\".gallery-slide\")\r\n    let title = $(parent).find(\".gallery__title\").html().trim()\r\n    let imgSrc = $(parent).find(\".gallery__img img\").attr(\"src\")\r\n\r\n    $(\".order-modal__title\").html(title)\r\n    $(\".order-modal__img img\").attr(\"src\",imgSrc)\r\n    $(\".order-modal\").addClass(\"_active\")\r\n    $(\"body\").addClass(\"fixed-body\")\r\n})\r\n\r\n\r\n$(\"._close-order\").click(function () {\r\n    $(\".order-modal\").removeClass(\"_active\")\r\n    $(\"body\").removeClass(\"fixed-body\")\r\n})\r\n\r\n$(\".investment__more\").click(function () {\r\n    $(this).toggleClass(\"_active\")\r\n    $(\".investment ._hidden-text\").slideToggle()\r\n})\r\n\r\n$(\".gallery__more\").click(function () {\r\n    $(this).toggleClass(\"_active\")\r\n    $(this).siblings(\".gallery__desc\").toggleClass(\"_expanded\")\r\n})\r\n\r\nsetTimeout(()=>{\r\n    $(\"[data-src]\").each(function (i,el) {\r\n        let src = $(el).attr(\"data-src\")\r\n        $(el).attr(\"src\",src)\r\n    })\r\n},1000)\r\n"]}