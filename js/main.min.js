let degree=0,current=0,pageSlider=new Swiper(".gallery",{wrapperClass:"gallery__wrapper",slideClass:"gallery-slide",direction:"vertical",slidesPerView:"auto",speed:1e3,parallax:!0,watchOverflow:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},mousewheel:{sensitivity:1},init:!1,on:{init:function(){renderGalleryNav(this.activeIndex),renderGalleryButtons(this.activeIndex)},slideChange:function(){renderGalleryNav(this.activeIndex),renderGalleryButtons(this.activeIndex)},slideChangeTransitionStart:function(){rotateBox()},resize:function(){}},breakpoints:{320:{allowTouchMove:!0},992:{allowTouchMove:!1}}});function renderGalleryButtons(e){let l="",t="",n=$(".gallery-slide").length;l="Top",t="Bottom",0!==e&&(l=$(`.gallery-slide:nth-child(${e})`).find(".gallery__title").html().trim()),e<n-1&&(t=$(`.gallery-slide:nth-child(${e+2})`).find(".gallery__title").html().trim()),$(".gallery__prev").addClass("_disable"),$(".gallery__next").addClass("_disable"),$(".gallery__prev span").html(l),$(".gallery__next span").html(t),setTimeout(()=>{$(".gallery__prev").removeClass("_disable"),$(".gallery__next").removeClass("_disable")},900)}function renderGalleryNav(e){let l=[];$(".gallery-nav__links").addClass("_disable"),setTimeout(()=>{if($(".gallery-nav__links .gallery-nav__link").remove(),$(".gallery-menu__links .gallery-nav__link").remove(),$(".gallery-nav__links").removeClass("_disable"),$(".gallery__title").each((function(t,n){let a={title:$(n).html().trim(),index:t,class:t===e?"_active":""};l.push(a)})),l.forEach(e=>{$(".gallery-menu__links").append(`\n                <div data-index="${e.index}" class="gallery-nav__link ${e.class}">\n                    <span>${e.title}</span>\n                </div>\n            `)}),e>7)for(let t=0;t<e-7;t++)l.length>17&&l.shift();l.forEach(e=>{$(".gallery-nav__links").append(`\n                <div data-index="${e.index}" class="gallery-nav__link ${e.class}">\n                    <span>${e.title}</span>\n                </div>\n            `)})},300)}$("._next-slide").click((function(){let e=$(".gallery-slide").length;pageSlider.activeIndex<e-1?pageSlider.slideTo(pageSlider.activeIndex+1,1e3,!1):galleryScrollNext(),rotateBox()})),$("._prev-slide").click((function(){$(".gallery-slide").length;0===pageSlider.activeIndex?galleryScrollPrev():pageSlider.slideTo(pageSlider.activeIndex-1,1e3,!1),rotateBox()})),$(document).on("click",".gallery-nav__link",(function(e){let l=+$(this).attr("data-index");pageSlider.slideTo(l,1e3,!1),rotateBox(),$(".header").removeClass("_gallery-open"),$("body").removeClass("fixed-body"),galleryFullScreen()}));const resizeHandlerSlider=()=>{pageSlider.init()};function galleryScrollPrev(){let e=$(".gallery").offset().top,l=$(window).height();$("body,html").animate({scrollTop:e-l},100)}function galleryScrollNext(){let e=$(".gallery").offset().top,l=$(window).height();$("body,html").animate({scrollTop:e+l},0)}resizeHandlerSlider(),window.addEventListener("resize",resizeHandlerSlider),$(".gallery-slide:first-child").bind("wheel",(function(e){e.originalEvent.wheelDelta>=0&&galleryScrollPrev()})),$(".gallery-slide:last-child").bind("wheel",(function(e){e.originalEvent.wheelDelta<=0&&galleryScrollNext()}));let gallery=document.querySelector(".gallery"),firstSlideGallery=document.querySelector(".gallery-slide:first-child"),lastSlideGallery=document.querySelector(".gallery-slide:last-child");gallery.addEventListener("touchstart",handleTouchStartGallery,!1);let xDown=null,yDown=null;function getTouches(e){return e.touches||e.originalEvent.touches}function handleTouchStart(e){const l=getTouches(e)[0];xDown=l.clientX,yDown=l.clientY}function listenFirstSlideTouch(){firstSlideGallery.addEventListener("touchstart",handleTouchStart,!1),firstSlideGallery.addEventListener("touchmove",(function(e){if(!xDown||!yDown)return;let l=e.touches[0].clientX,t=e.touches[0].clientY,n=xDown-l,a=yDown-t;Math.abs(n)>Math.abs(a)||a>0||galleryScrollPrev();xDown=null,yDown=null}),!1)}function listenlastSlideTouch(){lastSlideGallery.addEventListener("touchstart",handleTouchStart,!1),lastSlideGallery.addEventListener("touchmove",(function(e){if(!xDown||!yDown)return;let l=e.touches[0].clientX,t=e.touches[0].clientY,n=xDown-l,a=yDown-t;Math.abs(n)>Math.abs(a)||a>0&&galleryScrollNext();xDown=null,yDown=null}),!1)}function handleTouchStartGallery(){galleryFullScreen()}function galleryFullScreen(){let e=document.querySelector(".footer").getBoundingClientRect(),l=$(".wrapper").height(),t=e.height,n=$(window).height();$("body,html").animate({scrollTop:l-t-n},100)}function rotateBox(){let e=+$(".gallery-slide.swiper-slide-active").attr("data-degree");$(".gallery__box").css("transform",`rotate(-${e}deg)`)}listenFirstSlideTouch(),listenlastSlideTouch(),$(".gallery").click((function(){galleryFullScreen()})),$(".gallery").mouseenter((function(){galleryFullScreen()})),$(".gallery-slide").each((function(e,l){$(l).attr("data-degree",degree),degree+=11}));
function setFixHeader(){$(window).scrollTop()>20?$(".header").addClass("_fix"):$(".header").removeClass("_fix")}$(window).scroll((function(){setFixHeader()})),setFixHeader(),$(".burger").click((function(){$(".header").toggleClass("_open"),$("body").toggleClass("fixed-body")})),$(".gallery-toggle").click((function(){$(".header").toggleClass("_gallery-open"),$("body").toggleClass("fixed-body")})),$(".nav__link").click((function(e){e.preventDefault(),$(window).innerWidth()<992&&($(".header").removeClass("_open"),$("body").removeClass("fixed-body"));var o=$(this).attr("href"),a=$(o).offset().top;$("body,html").animate({scrollTop:a},500)})),$(window).scroll((function(){$("._anchor").each((function(e,o){var a=$(o).offset().top-0,l=a+$(o).height(),i=$(window).scrollTop(),t=$(o).attr("id");i>a&&i<l&&($("a.nav__link").removeClass("_active"),$('a[href="#'+t+'"]').addClass("_active"))}))}));
$("._open-order").click((function(){let e=$(this).parents(".gallery-slide"),d=$(e).find(".gallery__title").html().trim(),l=$(e).find(".gallery__img img").attr("src");$(".order-modal__title").html(d),$(".order-modal__img img").attr("src",l),$(".order-modal").addClass("_active"),$("body").addClass("fixed-body")})),$("._close-order").click((function(){$(".order-modal").removeClass("_active"),$("body").removeClass("fixed-body")}));
//# sourceMappingURL=../sourcemaps/main.min.js.map
